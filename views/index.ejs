<%- include('Partials/sidebar.ejs') %>
        <div class="search-section sectionSearch-home">
               
            <div class="search-bar">
                <input type="text" placeholder="Rechercher..." aria-label="Rechercher">
                    <button type="submit" class="edit-fasearch">
                        <i class="fas fa-search "></i>
                    </button>
            </div>
            <div class="filtre">
                <span class="is-size-7 attribut"><i class="fas fa-couch attribut"></i> Meublé</span>
                <span class="is-size-7 attribut"><i class="fas fa-hot-tub attribut"></i> Piscine</span> <!-- Spa, peut évoquer une piscine -->
                <span class="is-size-7 attribut"><i class="fas fa-tree attribut"></i> Jardin / Terrasse</span>
            </div>
        
        </div>
        <div class="contenair-home">
                   
        
           <div class="map-home" id="map-home">
           
           </div>
           <div class="grid-home">
           
           <% properties.forEach(propriete => { %>
            <div class="card-home">
                <small class="tag is-size-7 is-warning status"><p>FOR RENT</p></small>
                <small class="favori has-text-danger"><i class="fas fa-heart "></i></small>
                <img src="/assets/exemple.jpg" alt="" srcset="">
                <div class="infocard-home">
                    <p class="is-size-7"><%= propriete.Nom %></p>
                    <p class="prix-prop is-size-7"><strong>$<%= propriete.Prix_Propriete %></strong></p>
                    <p class="is-size-7 localisation"><i class="fas fa-map-marker-alt icon-location"></i>2 rue de la villa, Marseille</p>
                    <div class="tag-localisation">
                        
                        <span class="icon-text">
                            <span class="icon is-size-7 ">
                                <i class="fas fa-bed attribut"></i>
                            </span>
                            <p class=" attribut-icon">7 chambres</p>
                        </span>
                        <span class="icon-text">
                            <span class="icon is-size-7">
                                <i class="fas fa-bath attribut"></i>
                            </span>
                            <p class=" attribut-icon">3 bathe</p>
                        </span>
                        <span class="icon-text">
                            <span class="icon is-size-7">
                                <i class="fas fa-ruler attribut"></i>
                            </span>
                            <p class="attribut-icon">150 m²</p>
                        </span>
                           
                    </div>
                    
                </div>
        </div>
           <% }) %>

       


        </div>
        
          
        </div>

    </main>
   
    <script>
        // Définir l'icône avant de l'utiliser dans le marqueur
        var greenIcon = L.icon({
            iconUrl: '/assets/house.png', // chemin relatif de l'image de l'icône
        
            iconSize:     [40, 40], // taille de l'icône
            iconAnchor:   [20, 40], // point de l'icône qui correspond à l'emplacement du marqueur (au bas de l'icône)
            shadowSize:   [50, 64], // taille de l'ombre
            shadowAnchor: [25, 64], // ancrage de l'ombre (en bas au centre)
            popupAnchor:  [0, -40]  // point d'ouverture du popup relatif à l'icône
        });
        
        // Initialiser la carte avec des coordonnées de Paris
        var map = L.map('map-home').setView([48.85, 2.35], 13);
        
        // Utilisation d'un fond de carte avec un style de tuiles différent
        L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/">CARTO</a>',
            subdomains: 'abcd',
            maxZoom: 19
        }).addTo(map);
        
        // Ajouter un marqueur avec l'icône personnalisée et un popup
        var marker1 = L.marker([48.85, 2.34], {icon: greenIcon}).addTo(map);
        marker1.bindPopup("<b>Bonjour !</b><br>Vous êtes à Paris.").openPopup();
        
        var marker2 = L.marker([47.86, 2.34], {icon: greenIcon}).addTo(map);
        marker2.bindPopup(`<a href="">
            
            <div class="card-home marqueur">
            
                <img src="/assets/exemple.jpg" alt="" srcset="" width = "200px"> 
            <div class="infocard-home">
                <p class="is-size-7">Pualling Benar House</p>
                <p class="prix-prop is-size-7"><strong>$1,500,000</strong></p>
                <p class="is-size-7 localisation"><i class="fas fa-map-marker-alt icon-location"></i>2 rue de la villa, Marseille</p>
               
                
            </div>
        </div>
            
            </a>`);
    </script>
    

    
</body>
</html>